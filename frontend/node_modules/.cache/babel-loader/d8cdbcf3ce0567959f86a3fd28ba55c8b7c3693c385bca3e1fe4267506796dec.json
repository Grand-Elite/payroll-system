{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\weerasi-ps19259\\\\IdeaProjects\\\\payroll-system\\\\frontend\\\\src\\\\components\\\\Attendance\\\\Attendance.js\",\n  _s = $RefreshSig$();\nimport { Link } from 'react-router-dom';\nimport AttendanceTable from './AttendanceTable';\nimport React, { useState, useEffect } from 'react';\nimport { Box, Select, MenuItem, Typography, FormControl, InputLabel } from '@mui/material';\nimport { fetchEmployees } from '../../services/api';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Attendance({\n  selectedMonth,\n  selectedYear\n}) {\n  _s();\n  const [employees, setEmployees] = useState([]);\n  const [selectedEmployee, setSelectedEmployee] = useState(null);\n\n  // Fetch employees when component mounts\n  useEffect(() => {\n    const loadEmployees = async () => {\n      try {\n        const employeeList = await fetchEmployees();\n        setEmployees(employeeList);\n      } catch (error) {\n        console.error(\"Error fetching employees:\", error);\n      }\n    };\n    loadEmployees();\n  }, []);\n\n  // Handle employee selection\n  const handleEmployeeChange = event => {\n    const employeeId = event.target.value;\n    const employee = employees.find(emp => emp.employeeId === employeeId);\n    setSelectedEmployee(employee);\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    p: 3,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"buttons\",\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/upload-attendance-excel\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          children: \"Upload Employee Attendance\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n      fullWidth: true,\n      variant: \"outlined\",\n      margin: \"normal\",\n      children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n        children: \"Select Employee\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Select, {\n        label: \"Select Employee\",\n        value: selectedEmployee ? selectedEmployee.employeeId : \"\",\n        onChange: handleEmployeeChange,\n        children: employees.map(employee => /*#__PURE__*/_jsxDEV(MenuItem, {\n          value: employee.employeeId,\n          children: employee.shortName\n        }, employee.employeeId, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }, this), selectedEmployee && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        align: \"center\",\n        gutterBottom: true,\n        children: `Attendance for ${selectedMonth} ${selectedYear}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h8\",\n        align: \"left\",\n        gutterBottom: true,\n        style: {\n          width: '100%'\n        },\n        children: `Employee Name: ${selectedEmployee.shortName}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(AttendanceTable, {\n        employeeId: selectedEmployee.employeeId,\n        selectedMonth: selectedMonth,\n        selectedYear: selectedYear\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 7\n  }, this);\n}\n_s(Attendance, \"kLZeJOXXsMW1g5t7GqZIcKSw2as=\");\n_c = Attendance;\n;\nexport default Attendance;\nvar _c;\n$RefreshReg$(_c, \"Attendance\");","map":{"version":3,"names":["Link","AttendanceTable","React","useState","useEffect","Box","Select","MenuItem","Typography","FormControl","InputLabel","fetchEmployees","jsxDEV","_jsxDEV","Fragment","_Fragment","Attendance","selectedMonth","selectedYear","_s","employees","setEmployees","selectedEmployee","setSelectedEmployee","loadEmployees","employeeList","error","console","handleEmployeeChange","event","employeeId","target","value","employee","find","emp","display","flexDirection","alignItems","p","children","className","to","fileName","_jsxFileName","lineNumber","columnNumber","fullWidth","variant","margin","label","onChange","map","shortName","align","gutterBottom","style","width","_c","$RefreshReg$"],"sources":["C:/Users/weerasi-ps19259/IdeaProjects/payroll-system/frontend/src/components/Attendance/Attendance.js"],"sourcesContent":["import { Link } from 'react-router-dom';\r\nimport AttendanceTable from './AttendanceTable';\r\nimport React, { useState, useEffect } from 'react';\r\nimport {\r\n  Box,\r\n  Select,\r\n  MenuItem,\r\n  Typography,\r\n  FormControl,\r\n  InputLabel,\r\n} from '@mui/material';\r\nimport { fetchEmployees } from '../../services/api';\r\n\r\nfunction Attendance({ selectedMonth, selectedYear }) {\r\n    const [employees, setEmployees] = useState([]);\r\n    const [selectedEmployee, setSelectedEmployee] = useState(null);\r\n  \r\n    // Fetch employees when component mounts\r\n    useEffect(() => {\r\n      const loadEmployees = async () => {\r\n        try {\r\n          const employeeList = await fetchEmployees();\r\n          setEmployees(employeeList);\r\n        } catch (error) {\r\n          console.error(\"Error fetching employees:\", error);\r\n        }\r\n      };\r\n      loadEmployees();\r\n    }, []);\r\n  \r\n    // Handle employee selection\r\n    const handleEmployeeChange = (event) => {\r\n      const employeeId = event.target.value;\r\n      const employee = employees.find((emp) => emp.employeeId === employeeId);\r\n      setSelectedEmployee(employee);\r\n    };\r\n  \r\n    return (\r\n      <Box display=\"flex\" flexDirection=\"column\" alignItems=\"center\" p={3}>\r\n        <div className=\"buttons\">\r\n            <Link to=\"/upload-attendance-excel\">\r\n                <button>Upload Employee Attendance</button>\r\n            </Link>\r\n        </div>\r\n        <FormControl fullWidth variant=\"outlined\" margin=\"normal\">\r\n          <InputLabel>Select Employee</InputLabel>\r\n          <Select\r\n            label=\"Select Employee\"\r\n            value={selectedEmployee ? selectedEmployee.employeeId : \"\"}\r\n            onChange={handleEmployeeChange}\r\n          >\r\n            {employees.map((employee) => (\r\n              <MenuItem key={employee.employeeId} value={employee.employeeId}>\r\n                {employee.shortName}\r\n              </MenuItem>\r\n            ))}\r\n          </Select>\r\n        </FormControl>\r\n  \r\n        {/* Show the Attendance Table only if an employee is selected */}\r\n        {selectedEmployee && (\r\n          <>\r\n            <Typography variant=\"h6\" align=\"center\" gutterBottom>\r\n              {`Attendance for ${selectedMonth} ${selectedYear}`}\r\n            </Typography>\r\n            <Typography variant=\"h8\" align=\"left\" gutterBottom style={{ width: '100%' }}>\r\n            {`Employee Name: ${selectedEmployee.shortName}`}\r\n            </Typography>\r\n            <AttendanceTable employeeId={selectedEmployee.employeeId} selectedMonth={selectedMonth} selectedYear={selectedYear} />\r\n          </>\r\n        )}\r\n      </Box>\r\n    );\r\n};\r\nexport default Attendance;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}